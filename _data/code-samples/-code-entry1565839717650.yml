_id: c4b06c80-bf0c-11e9-9da6-2f4180ea06cd
author: whicker
notes: >-
  Change proficiency of AC by randomly selecting a set number of Flight names
  from a table.
code: "Tool_EmulateNoConsole(true) \r\n-- decrease Gripens first\r\nfor i=2,21 do\r\nlocal u = ScenEdit_GetUnit({side='Republic of Azure', name='Gripen #'..i})\r\nif u ~= nil then\r\nScenEdit_SetUnit({guid=u.guid,proficiency=3})\r\nprint(u.name..' - '..u.proficiency)\r\nend --if\r\nend--inner\r\n--loop thru some of the rest of the flights to decrease their proficiency\r\nlocal flights={'Picadura','Euro','Snake','Bam Bam','Prowler','Outcast','Voodoo','Hawk','Falcon','Raptor','Trident','Lightning','Lancer','Spirit','Buffy','Tophatters','Gunslingers','Swordsmen','Venom','Harry'} -- add flight names to table\r\nlocal affected={}\r\nlocal class\r\nlocal n = 7 --number of flights affected\r\nfor i = 1,7 do\r\nlocal r=math.random(1,#flights)\r\nfor j=1,12 do\r\nlocal u = ScenEdit_GetUnit({side='Republic of Azure', name=flights[r]..' #'..j})\r\nif u ~= nil then\r\nScenEdit_SetUnit({guid=u.guid,proficiency=3})\r\nprint(u.name..' - '..u.proficiency)\r\nclass=u.classname\r\nend --if\r\nend--inner\r\ntable.insert(affected,flights[r]..'<small> -- ('..class..')</small>')\r\nprint(flights[r].name)\r\ntable.remove(flights,r)\r\nend -- outer\r\nprint(affected)\r\n\r\nlocal message1 =('Commander,<br><br>We have lost the VC 10 from Sangster AFB that had ammo and supplies on board as well as most of our Air Logistics team. There will be a serious lack of supplies for our Gripens now - there are minimal supplies at NAS Merida and possibly other usable loadouts scattered around.<br><br> The following flights will have decreased proficiency due to this loss: <br><br>Gripens <small> -- JAS 39D Gripen</small><br>')\r\nfor i = 1,#affected do\r\nlocal m1 = affected[i]\r\n--local m2 =\r\nmessage1 = message1 ..m1..'<br>'\r\nend --for\r\nprint(message1)\r\nScenEdit_SpecialMessage ('Republic of Azure', message1)"
date: 1565839717
