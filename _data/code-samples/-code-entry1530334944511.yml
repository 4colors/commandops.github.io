_id: c6daf210-7c22-11e8-8b1d-b1f86f4e9ab6
author: whicker
notes: Spawn units at random locations within an area.
code: "math.randomseed(os.time())\r\n--probably need a global counter for unit number\r\nlocal unitNumber = 240\r\nfor i = 1,5 do\r\nredo_count = 0\r\n::redo::\r\nlocal lat_var = math.random(1,(9999))\r\nlocal lon_var = math.random(1,(9999))\r\nv_lat = math.random(1927,1939)/100 + (lat_var/(999990)) --(for more precision do 4 digits with no period then divide by 100) change the first set (south is negative) to your specified minimum and maximum latitude values; it's important that the first number is smaller than the second.\r\n\r\nv_lon = math.random(-8139,-8108)/100 + (lon_var/(999990)) --change first set (west is negative!) to your specified minimum and maximum longitude values; it's important that the first number is smaller than the second.\r\n\r\nelevation = World_GetElevation({latitude=v_lat, longitude=v_lon})\r\nif elevation < 2 then --Checks to see if point is on land (meters?), adjust as you please\r\n\r\nredo_count = redo_count + 1\r\nprint(\"spot not suitable \" ..redo_count)\r\nif redo_count >50 then\r\nprint (redo_count .. 'not able to find a suitable spot for placement. Re-check latitude and longitude settings')\r\nbreak --this cuts the loop if there are no suitable positions found after 50 tries, prevents infinite loop/game freeze\r\n\r\nelse\r\ngoto redo --retries the placement if the water is too shallow\r\n\r\nend\r\nend\r\n--spawn units\r\nScenEdit_AddUnit({type = 'facility', name = 'Cayman Inf #'..unitNumber, dbid = 2273, side = 'Havana Pact', Latitude=v_lat,Longitude=v_lon,\r\nautodetectable=\"false\"})\r\n\r\nlocal a =ScenEdit_GetUnit({ Side='Havana Pact', unitname='Cayman Inf #'..unitNumber}) \r\nprint(a)\r\nunitNumber = unitNumber + 1\r\nend"
date: 1530334944
